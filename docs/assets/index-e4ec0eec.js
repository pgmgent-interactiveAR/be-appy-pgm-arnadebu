(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();const t={init(){this.cacheElements()},cacheElements(){this.$splash=document.querySelector(".splash"),this.$launchVirtualPet=document.querySelector(".launch-virtual-pet"),this.$virtualPetUI=document.querySelector(".virtual-pet-app"),this.$launchDancingLector=document.querySelector(".launch-lector-app"),this.$dancingLectorUI=document.querySelector(".dancing-lector-app"),this.$reticle=document.querySelector("[ar-hit-test]"),this.$sambaBtn=document.querySelector(".samba"),this.$hipHopBtn=document.querySelector(".hiphop"),this.$bellyBtn=document.querySelector(".belly"),this.$swingBtn=document.querySelector(".swing"),this.$flairBtn=document.querySelector(".flair"),this.$sillyBtn=document.querySelector(".silly"),this.$twerkBtn=document.querySelector(".twerk"),this.$idleBtn=document.querySelector(".idle"),this.addEventListeners()},addEventListeners(){const e=document.querySelector(".exit-button"),n=document.querySelector("a-scene"),r=document.querySelector("[ar-hit-test]"),o=document.getElementById("eagle");function i(){o.setAttribute("position",r.getAttribute("position")),o.setAttribute("visible",!0)}e.addEventListener("click",function(){n.xrSession.end()}),n.addEventListener("enter-vr",()=>{this.$splash.classList.remove("is-hidden"),this.$launchVirtualPet.addEventListener("click",this.generateVirtualPetApp),this.$launchDancingLector.addEventListener("click",this.generateDancingLectorApp),r.setAttribute("ar-hit-test","doHitTest:true"),r.setAttribute("visible","true")}),n.addEventListener("exit-vr",()=>{this.$splash.classList.add("is-hidden"),r.setAttribute("ar-hit-test","doHitTest:false"),r.setAttribute("visible","false")}),r.addEventListener("select",function(){this.components["ar-hit-test"].hasFoundAPose&&i()})},generateVirtualPetApp(){document.querySelector(".splash").classList.add("is-hidden"),document.querySelector(".virtual-pet-app").classList.remove("is-hidden"),document.querySelector("#helena").classList.add("is-hidden");const e=document.getElementById("goose");t.generatePositionObject(e),t.$sambaBtn.addEventListener("click",()=>t.addAnimation(e,"samba")),t.$hipHopBtn.addEventListener("click",()=>t.addAnimation(e,"hiphop")),t.$bellyBtn.addEventListener("click",()=>t.addAnimation(e,"belly")),t.$swingBtn.addEventListener("click",()=>t.addAnimation(e,"swing"))},generateDancingLectorApp(){document.querySelector(".splash").classList.add("is-hidden"),document.querySelector(".dancing-lector-app").classList.remove("is-hidden");const e=document.getElementById("helena");t.generatePositionObject(e),t.$flairBtn.addEventListener("click",()=>t.addAnimation(e,"flair")),t.$sillyBtn.addEventListener("click",()=>t.addAnimation(e,"sillydance1")),t.$twerkBtn.addEventListener("click",()=>t.addAnimation(e,"twerk")),t.$idleBtn.addEventListener("click",()=>t.addAnimation(e,"idle"))},addAnimation(e,n){e.setAttribute("animation-mixer",`clip:${n}; loop:infinite; crossFadeDuration: 2;`)},generatePositionObject(e){const n=this.$reticle;n.addEventListener("select",function(){this.components["ar-hit-test"].hasFoundAPose&&(e.setAttribute("position",n.getAttribute("position")),e.setAttribute("visible",!0))})}};t.init();
