(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))c(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&c(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();const t={init(){this.cacheElements(),this.showLoadingScreen()},cacheElements(){this.$enterScreen=document.querySelector(".enter-screen"),this.$loadingScreen=document.querySelector(".loading-screen"),this.$enterScreenBg=document.querySelector("#enter-screen-bg"),this.$splash=document.querySelector(".splash"),this.$launchVirtualPet=document.querySelector(".launch-virtual-pet"),this.$virtualPetUI=document.querySelector(".virtual-pet-app"),this.$launchDancingLector=document.querySelector(".launch-dancing-lector"),this.$dancingLectorUI=document.querySelector(".dancing-lector-app"),this.$reticle=document.querySelector("[ar-hit-test]"),this.$sambaBtn=document.querySelector(".samba"),this.$hipHopBtn=document.querySelector(".hiphop"),this.$bellyBtn=document.querySelector(".belly"),this.$swingBtn=document.querySelector(".swing"),this.$flairBtn=document.querySelector(".flair"),this.$sillyBtn=document.querySelector(".silly"),this.$twerkBtn=document.querySelector(".twerk"),this.$idleBtn=document.querySelector(".idle"),this.$ExitApp=document.querySelectorAll(".exit-app"),this.addEventListeners()},showLoadingScreen(){setTimeout(()=>{this.$loadingScreen.classList.add("is-hidden")},4e3)},addEventListeners(){const e=document.querySelector(".exit-button"),n=document.querySelector("a-scene"),r=document.querySelector("[ar-hit-test]");document.getElementById("eagle"),e.addEventListener("click",function(){window.location.reload()}),n.addEventListener("enter-vr",()=>{this.$enterScreenBg.setAttribute("visible","false"),this.$enterScreen.classList.add("is-hidden"),this.$splash.classList.remove("is-hidden"),this.$launchVirtualPet.addEventListener("click",this.generateVirtualPetApp),this.$launchDancingLector.addEventListener("click",this.generateDancingLectorApp),this.$ExitApp.forEach(c=>t.closeApp(c)),r.setAttribute("ar-hit-test","doHitTest:true"),r.setAttribute("visible","true")}),n.addEventListener("exit-vr",()=>{this.$splash.classList.add("is-hidden"),r.setAttribute("ar-hit-test","doHitTest:false"),r.setAttribute("visible","false")})},generateDancingLectorApp(){document.querySelector(".splash").classList.add("is-hidden"),document.querySelector(".dancing-lector-app").classList.remove("is-hidden"),document.querySelector("#goose").classList.add("is-hidden");const e=document.getElementById("helena");t.generatePositionObject(e),t.$flairBtn.addEventListener("click",()=>t.addAnimation(e,"flair")),t.$sillyBtn.addEventListener("click",()=>t.addAnimation(e,"sillydance1")),t.$twerkBtn.addEventListener("click",()=>t.addAnimation(e,"twerk")),t.$idleBtn.addEventListener("click",()=>t.addAnimation(e,"idle"))},generateVirtualPetApp(){document.querySelector(".splash").classList.add("is-hidden"),document.querySelector(".virtual-pet-app").classList.remove("is-hidden"),document.querySelector("#helena").classList.add("is-hidden");const e=document.getElementById("goose");t.generatePositionObject(e),t.$sambaBtn.addEventListener("click",()=>t.addAnimation(e,"samba")),t.$hipHopBtn.addEventListener("click",()=>t.addAnimation(e,"hiphop")),t.$bellyBtn.addEventListener("click",()=>t.addAnimation(e,"belly")),t.$swingBtn.addEventListener("click",()=>t.addAnimation(e,"swing"))},addAnimation(e,n){e.setAttribute("animation-mixer",`clip:${n}; loop:infinite; crossFadeDuration: 2;`)},generatePositionObject(e){const n=this.$reticle;n.addEventListener("select",function(){this.components["ar-hit-test"].hasFoundAPose&&(e.id=="helena"?(document.querySelector(".app__title-lector").innerHTML="Let's go Helena!",document.querySelector(".app__title-lector").classList.add("neon")):(document.querySelector(".app__title-pet").innerHTML="Goose Party!",document.querySelector(".app__title-pet").classList.add("neon")),e.setAttribute("position",n.getAttribute("position")),e.setAttribute("visible",!0))})},closeApp(e){e.addEventListener("click",n=>{e.dataset.name=="lector"?document.querySelector(".dancing-lector-app").classList.add("is-hidden"):document.querySelector(".virtual-pet-app").classList.add("is-hidden"),t.$splash.classList.remove("is-hidden")})}};t.init();
